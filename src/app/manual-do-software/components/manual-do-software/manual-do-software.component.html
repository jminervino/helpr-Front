<div class="manual">
  <!-- Header -->
  <div class="manual-header">
    <mat-icon class="manual-header__icon">menu_book</mat-icon>
    <div>
      <h1 class="manual-header__title">Manual do Software</h1>
      <p class="manual-header__subtitle">Selecione um topico para ver as instrucoes</p>
    </div>
  </div>

  <div class="manual-body">
    <!-- Sidebar Navigation -->
    <aside class="manual-sidebar">
      <div *ngFor="let topic of topics" class="manual-topic">
        <button
          class="manual-topic__btn"
          [class.manual-topic__btn--active]="activeTopic === topic"
          (click)="selectTopic(topic)"
        >
          <mat-icon class="manual-topic__icon">{{ topic.icon }}</mat-icon>
          <span>{{ topic.label }}</span>
          <mat-icon class="manual-topic__chevron">
            {{ activeTopic === topic ? 'expand_less' : 'expand_more' }}
          </mat-icon>
        </button>

        <div class="manual-topic__items" *ngIf="activeTopic === topic">
          <button
            *ngFor="let item of topic.items"
            class="manual-item__btn"
            [class.manual-item__btn--active]="activeItem === item"
            (click)="selectItem(item)"
          >
            {{ item.label }}
          </button>
        </div>
      </div>
    </aside>

    <!-- Content Area -->
    <main class="manual-content">
      <!-- Empty State -->
      <div class="manual-empty" *ngIf="!activeItem">
        <mat-icon class="manual-empty__icon">touch_app</mat-icon>
        <p class="manual-empty__text">Selecione um topico no menu ao lado para comecar</p>
      </div>

      <!-- Active Item Content -->
      <div class="manual-article" *ngIf="activeItem">
        <h2 class="manual-article__title">{{ activeItem.title }}</h2>
        <p class="manual-article__description">{{ activeItem.description }}</p>

        <!-- Steps -->
        <ol class="manual-article__steps" *ngIf="activeItem.steps?.length">
          <li *ngFor="let step of activeItem.steps" class="manual-article__step">
            {{ step }}
          </li>
        </ol>

        <!-- Note -->
        <div class="manual-article__note" *ngIf="activeItem.note">
          <mat-icon>info</mat-icon>
          <span>{{ activeItem.note }}</span>
        </div>

        <!-- Images -->
        <div class="manual-article__images" *ngIf="activeItem.images?.length">
          <figure *ngFor="let img of activeItem.images" class="manual-article__figure">
            <img [src]="img.src" [alt]="img.caption" loading="lazy" />
            <figcaption>{{ img.caption }}</figcaption>
          </figure>
        </div>
      </div>
    </main>
  </div>

  <!-- Footer -->
  <div class="manual-footer">
    <mat-icon>support_agent</mat-icon>
    <span>Caso o conteudo aqui nao solucione o seu problema, entre em contato com a Equipe de Suporte.</span>
  </div>
</div>
